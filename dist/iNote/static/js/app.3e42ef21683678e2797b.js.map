{"version":3,"sources":["webpack:///src/components/Catalog.vue","webpack:///./src/components/Catalog.vue?ab74","webpack:///./src/components/Catalog.vue","webpack:///src/components/Toolbar.vue","webpack:///./src/components/Toolbar.vue?fabe","webpack:///./src/components/Toolbar.vue","webpack:///./src/components/Search.vue?dcd5","webpack:///./src/components/Search.vue","webpack:///src/components/Editor.vue","webpack:///src/components/Search.vue","webpack:///./src/components/Editor.vue?8096","webpack:///./src/components/Editor.vue","webpack:///src/components/CatalogMenu.vue","webpack:///./src/components/CatalogMenu.vue?9a83","webpack:///./src/components/CatalogMenu.vue","webpack:///src/components/DeleteDialog.vue","webpack:///./src/components/DeleteDialog.vue?c6c3","webpack:///./src/components/DeleteDialog.vue","webpack:///src/components/RenameDialog.vue","webpack:///./src/components/RenameDialog.vue?9ec1","webpack:///./src/components/RenameDialog.vue","webpack:///src/components/ChangeCatalogDialog.vue","webpack:///./src/components/ChangeCatalogDialog.vue?65f1","webpack:///src/App.vue","webpack:///./src/components/ChangeCatalogDialog.vue","webpack:///./src/App.vue?f680","webpack:///./src/App.vue","webpack:///./src/router/index.js","webpack:///./src/vuex/state/index.js","webpack:///./src/vuex/mutations/index.js","webpack:///./src/vuex/actions/channel.js","webpack:///./src/vuex/actions/index.js","webpack:///./src/vuex/index.js","webpack:///./src/main.js"],"names":["Catalog","name","props","catalog","Array","registedEvents","data","defaultProps","children","label","emptyText","highlightCurrent","methods","showCatalogMenu","event","node","tree","this","includes","$store","dispatch","catalogMenu","document","getElementById","style","left","clientX","top","clientY","key","value","focus","call","handleNodeClick","console","log","stringify_default","isNote","note","getElementsByClassName","getElementsByTagName","id","err","message","components_Catalog","render","_h","$createElement","_self","_c","attrs","registed-events","empty-text","highlight-current","on","node-click","node-contextmenu","staticRenderFns","src_components_Catalog","__webpack_require__","normalizeComponent","Toolbar","components","computed","getters","handleCommand","command","activeCatalog","components_Toolbar","_vm","staticClass","placement","trigger","type","_v","slot","src_components_Toolbar","Toolbar_normalizeComponent","ssrContext","components_Search","keyup","$event","_k","keyCode","search","placeholder","model","callback","$$v","condition","expression","timeout","src_components_Search","Search_normalizeComponent","clock","content","_this","clearTimeout","extends_default","activeNote","setTimeout","Editor","Object","get","set","newValue","handleChange","components_Editor","directives","rawName","autofocus","input","src_components_Editor","Editor_normalizeComponent","CatalogMenu_timeout","CatalogMenu","plain","visibleArrow","show","Boolean","showMenu","selectedNode","onBlur","onFocus","showRenameDialog","showChangeCatalogDialog","showDeleteDialog","components_CatalogMenu","tabindex","blur","body-style","visible-arrow","click","src_components_CatalogMenu","CatalogMenu_normalizeComponent","_closeDeleteDialog","DeleteDialog","closeDeleteDialog","deleteAndCloseDeleteDialog","components_DeleteDialog","title","visible","width","center","close","src_components_DeleteDialog","DeleteDialog_normalizeComponent","_closeRenameDialog","RenameDialog","newName","closeRenameDialog","updateAndCloseRenameDialog","components_RenameDialog","autocomplete","src_components_RenameDialog","RenameDialog_normalizeComponent","_closeChangeCatalogDialog","ChangeCatalogDialog","emptyPath","path","updateCatalog","closeChangeCatalogDialog","updateAndCloseChangeCatalogDialog","catalog_id","components_ChangeCatalogDialog","disabled","App","toolbar","editor","catalog-menu","delete-dialog","rename-dialog","change-catalog-dialog","ChangeCatalogDialog_normalizeComponent","beforeMount","showContextMenu","selectortype_template_index_0_src_App","contextmenu","preventDefault","src_App","App_normalizeComponent","Vue","use","Router","router","routes","component","state","catalogKv","update","mutations","resetCatalog","payload","concat","toConsumableArray_default","addNote","newNote","push","addCatalog","newCatalog","updateNote","JSON","parse","deactivateNote","selectNode","deleteNode","nextNoteId","nextCatalogId","savedNoteList","devchannel","noteMessager","add","noteId","is_delete","forEach","item","delete","findAllByCatalogId","catalogId","noteList","catalogMessager","initCatalog","-1","searcherMessager","all","channel","window","objects","reGenerateCatalog","change","_updateSelf","parent","index","_delete","splice","store","commit","newPayload","keyArr","split","temp","slice","element","noteListJson","textarea","actions","initData","parent_id","length","deleteNote","deleteCatalog","updateNode","Vuex","Store","lib_pagination_default","a","lib_dialog_default","lib_autocomplete_default","lib_dropdown_default","lib_dropdown_menu_default","lib_dropdown_item_default","lib_menu_default","lib_submenu_default","lib_menu_item_default","lib_menu_item_group_default","lib_input_default","lib_input_number_default","lib_radio_default","lib_radio_group_default","lib_radio_button_default","lib_checkbox_default","lib_checkbox_button_default","lib_checkbox_group_default","lib_switch_default","lib_select_default","lib_option_default","lib_option_group_default","lib_button_default","lib_button_group_default","lib_table_default","lib_table_column_default","lib_date_picker_default","lib_time_select_default","lib_time_picker_default","lib_popover_default","lib_tooltip_default","lib_breadcrumb_default","lib_breadcrumb_item_default","lib_form_default","lib_form_item_default","lib_tabs_default","lib_tab_pane_default","lib_tag_default","lib_tree_default","lib_alert_default","lib_slider_default","lib_icon_default","lib_row_default","lib_col_default","lib_upload_default","lib_progress_default","lib_badge_default","lib_card_default","lib_rate_default","lib_steps_default","lib_step_default","lib_carousel_default","lib_carousel_item_default","lib_collapse_default","lib_collapse_item_default","lib_cascader_default","lib_color_picker_default","lib_transfer_default","lib_container_default","lib_header_default","lib_aside_default","lib_main_default","lib_footer_default","lib_loading_default","directive","config","productionTip","el","template"],"mappings":"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","file":"static/js/app.3e42ef21683678e2797b.js","sourcesContent":["<template>\r\n    <el-tree\r\n    :registed-events=\"registedEvents\"\r\n    :data=\"catalog\"\r\n    :props=\"defaultProps\"\r\n    :empty-text=\"emptyText\"\r\n    :highlight-current=\"highlightCurrent\"\r\n    @node-click=\"handleNodeClick\"\r\n    @node-contextmenu=\"showCatalogMenu\">\r\n    </el-tree>\r\n</template>\r\n\r\n<script>\r\nfunction showCatalogMenu (event, data, node, tree) {\r\n  // console.log(event)\r\n  // console.log(data)\r\n  // console.log(node)\r\n  // console.log(tree)\r\n  // 设置当前操作的节点\r\n  this.$store.dispatch('selectNode', {\r\n    node: data\r\n  })\r\n  let catalogMenu = document.getElementById('catalog-menu')\r\n  catalogMenu.style.left = event.clientX + 'px'\r\n  catalogMenu.style.top = event.clientY + 'px'\r\n  this.$store.dispatch('show', {\r\n    key: 'showCatalogMenu',\r\n    value: true\r\n  })\r\n  catalogMenu.focus()\r\n}\r\nfunction handelNodeClick (data) {\r\n  try {\r\n    console.log('handelNodeClick: ' + JSON.stringify(data))\r\n    this.$store.dispatch('show', {\r\n      key: 'showCatalogMenu',\r\n      value: false\r\n    })\r\n    if (data.isNote) {\r\n      // 点击对象如果为笔记则切换笔记内容\r\n      this.$store.dispatch('activeNote', {\r\n        note: data\r\n      })\r\n    } else {\r\n      // 清除搜索框的内容\r\n      const searchBox = document.getElementsByClassName('search_box')[0]\r\n      const searchInput = searchBox.getElementsByTagName('input')[0]\r\n      searchInput.value = ''\r\n      // 点击对象如果为目录则进入目录\r\n      this.$store.dispatch('deactivateNote')\r\n      // 当前目录\r\n      let catalog = {\r\n        id: data.id,\r\n        label: data.label,\r\n        children: []\r\n      }\r\n      // 设置当前目录\r\n      this.$store.dispatch('activeCatalog', {\r\n        catalog: catalog\r\n      })\r\n    }\r\n  } catch (err) {\r\n    console.log('handleNodeClick error: ' + err.message)\r\n  }\r\n}\r\nfunction handelNodeClick2 (data) {\r\n  try {\r\n    console.log('handelNodeClick: ' + JSON.stringify(data))\r\n    this.$store.dispatch('update', {\r\n      key: 'catalog',\r\n      value: data\r\n    })\r\n  } catch (err) {\r\n    console.log('handleNodeClick error: ' + err.message)\r\n  }\r\n}\r\nexport default {\r\n  name: 'Catalog',\r\n  props: {\r\n    'catalog': Array,\r\n    'registedEvents': Array\r\n  },\r\n  data () {\r\n    return {\r\n      defaultProps: {\r\n        children: 'children',\r\n        label: 'label'\r\n      },\r\n      emptyText: '',\r\n      highlightCurrent: true\r\n    }\r\n  },\r\n  methods: {\r\n    showCatalogMenu (event, data, node, tree) {\r\n      if (typeof this.registedEvents === 'undefined') {\r\n        return\r\n      }\r\n      if (this.registedEvents.includes('showCatalogMenu')) {\r\n        showCatalogMenu.call(this, event, data, node, tree)\r\n      }\r\n    },\r\n    handleNodeClick (data) {\r\n      if (typeof this.registedEvents === 'undefined') {\r\n        return\r\n      }\r\n      if (this.registedEvents.includes('handleNodeClick')) {\r\n        handelNodeClick.call(this, data)\r\n      }\r\n      if (this.registedEvents.includes('handleNodeClick2')) {\r\n        handelNodeClick2.call(this, data)\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/Catalog.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-tree',{attrs:{\"registed-events\":_vm.registedEvents,\"data\":_vm.catalog,\"props\":_vm.defaultProps,\"empty-text\":_vm.emptyText,\"highlight-current\":_vm.highlightCurrent},on:{\"node-click\":_vm.handleNodeClick,\"node-contextmenu\":_vm.showCatalogMenu}})}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-5df76594\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Catalog.vue\n// module id = null\n// module chunks = ","var normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Catalog.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Catalog.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-5df76594\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Catalog.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Catalog.vue\n// module id = null\n// module chunks = ","<template>\r\n    <div>\r\n        <el-dropdown placement=\"bottom\" trigger=\"click\" @command=\"handleCommand\" class=\"newOp\">\r\n            <el-button type=\"primary\">\r\n                + 新文档\r\n            </el-button>\r\n            <el-dropdown-menu slot=\"dropdown\">\r\n                <el-dropdown-item command=\"newNote\">新建笔记</el-dropdown-item>\r\n                <el-dropdown-item command=\"newCatalog\">新建文件夹</el-dropdown-item>\r\n            </el-dropdown-menu>\r\n        </el-dropdown>\r\n\r\n        <catalog :catalog=\"catalog\" :registed-events=\"['showCatalogMenu', 'handleNodeClick']\"></catalog>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport Catalog from './Catalog'\r\n\r\nexport default {\r\n  name: 'Toolbar',\r\n  components: {\r\n    catalog: Catalog\r\n  },\r\n  computed: {\r\n    catalog () {\r\n      // 初始化目录\r\n      return this.$store.getters.catalog\r\n    }\r\n  },\r\n  methods: {\r\n    handleCommand: function (command) {\r\n      let catalog = this.$store.getters.activeCatalog\r\n      if (command === 'newNote') {\r\n        // 创建笔记\r\n        this.$store.dispatch('addNote', {\r\n          catalog: catalog\r\n        })\r\n      }\r\n      if (command === 'newCatalog') {\r\n        // 创建目录\r\n        this.$store.dispatch('addCatalog', {\r\n          catalog: catalog\r\n        })\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n  .newOp, .newOp > .el-button {\r\n    width: 100%;\r\n  }\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/Toolbar.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-dropdown',{staticClass:\"newOp\",attrs:{\"placement\":\"bottom\",\"trigger\":\"click\"},on:{\"command\":_vm.handleCommand}},[_c('el-button',{attrs:{\"type\":\"primary\"}},[_vm._v(\"\\n            + 新文档\\n        \")]),_vm._v(\" \"),_c('el-dropdown-menu',{attrs:{\"slot\":\"dropdown\"},slot:\"dropdown\"},[_c('el-dropdown-item',{attrs:{\"command\":\"newNote\"}},[_vm._v(\"新建笔记\")]),_vm._v(\" \"),_c('el-dropdown-item',{attrs:{\"command\":\"newCatalog\"}},[_vm._v(\"新建文件夹\")])],1)],1),_vm._v(\" \"),_c('catalog',{attrs:{\"catalog\":_vm.catalog,\"registed-events\":['showCatalogMenu', 'handleNodeClick']}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-ced1bf8e\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Toolbar.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-ced1bf8e\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Toolbar.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Toolbar.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Toolbar.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-ced1bf8e\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Toolbar.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Toolbar.vue\n// module id = null\n// module chunks = ","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{on:{\"keyup\":function($event){if(!('button' in $event)&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.search($event)}}},[_c('el-input',{staticClass:\"search_box\",attrs:{\"placeholder\":\"    搜索...\"},model:{value:(_vm.condition),callback:function ($$v) {_vm.condition=$$v},expression:\"condition\"}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-295ef1e2\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Search.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-295ef1e2\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Search.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Search.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Search.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-295ef1e2\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Search.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Search.vue\n// module id = null\n// module chunks = ","<template>\r\n  <div class=\"editor_box\">\r\n    <!-- <el-input :value=\"note.title\"></el-input> -->\r\n    <el-input v-show=\"note.isNote\" autofocus=\"true\" type=\"textarea\" v-model=\"content\" @input=\"handleChange\"></el-input>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nlet clock = (function () {\r\n  let timeout = null\r\n  return function (content) {\r\n    clearTimeout(timeout)\r\n    let note = {...this.$store.getters.activeNote}\r\n    timeout = setTimeout(() => {\r\n      try {\r\n        console.log('handleChange: ' + content)\r\n        note.content = content\r\n        this.$store.dispatch('updateNote', {\r\n          note: note\r\n        })\r\n        // 重载当前目录\r\n        const activeCatalog = this.$store.getters.activeCatalog\r\n        let catalog = {\r\n          id: activeCatalog.id,\r\n          label: activeCatalog.label,\r\n          children: []\r\n        }\r\n        // 设置当前目录\r\n        this.$store.dispatch('activeCatalog', {\r\n          catalog: catalog\r\n        })\r\n      } catch (err) {\r\n        console.log('handleChange error: ' + err.message)\r\n      }\r\n    }, 1000 * 1)\r\n  }\r\n})()\r\nexport default {\r\n  name: 'Editor',\r\n  props: {\r\n    note: Object\r\n  },\r\n  computed: {\r\n    content: {\r\n      get: function () {\r\n        return this.note.content\r\n      },\r\n      set: function (newValue) {\r\n        this.note.content = newValue\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    handleChange: function (content) {\r\n      clock.call(this, content)\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n  .editor_box, .editor_box > .el-textarea, .editor_box > .el-textarea > textarea {\r\n    height: 100%;\r\n  }\r\n  .editor_box > .el-textarea > textarea {\r\n    resize: none;\r\n  }\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/Editor.vue","<template>\r\n  <div @keyup.enter=\"search\">\r\n    <el-input class=\"search_box\" placeholder=\"    搜索...\" v-model=\"condition\"></el-input>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'Search',\r\n  data () {\r\n    return {\r\n      condition: ''\r\n    }\r\n  },\r\n  methods: {\r\n    search (event) {\r\n      this.$store.dispatch('search', {\r\n        condition: this.condition\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n  .search_box > input {\r\n    border-radius: 20px;\r\n  }\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/Search.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"editor_box\"},[_c('el-input',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.note.isNote),expression:\"note.isNote\"}],attrs:{\"autofocus\":\"true\",\"type\":\"textarea\"},on:{\"input\":_vm.handleChange},model:{value:(_vm.content),callback:function ($$v) {_vm.content=$$v},expression:\"content\"}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-2839ec2c\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Editor.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-2839ec2c\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Editor.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Editor.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Editor.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-2839ec2c\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Editor.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Editor.vue\n// module id = null\n// module chunks = ","<template>\r\n  <div tabindex=\"1\" @blur=\"onBlur\" @focus=\"onFocus\">\r\n    <el-card body-style=\"padding: 0px;\" v-show=\"show\" class=\"box-card\">\r\n      <div class=\"text item\">\r\n        <el-popover\r\n          placement=\"right-start\"\r\n          trigger=\"hover\"\r\n          :visible-arrow=\"visibleArrow\">\r\n          <div>\r\n            <div class=\"text item\"><el-button @click=\"handleCommand('newNote')\">新建文件</el-button></div>\r\n            <div class=\"text item\"><el-button @click=\"handleCommand('newCatalog')\">新建文件夹</el-button></div>\r\n          </div>\r\n          <el-button slot=\"reference\">\r\n            <i class=\"el-icon-circle-plus-outline\"></i>\r\n            <span>新文档</span>\r\n            <i class=\"el-icon-caret-right\"></i>\r\n          </el-button>\r\n        </el-popover>\r\n      </div>\r\n      <div v-show=\"showMenu\" @click=\"showRenameDialog\" class=\"text item\"><el-button :plain=\"plain\">重命名</el-button></div>\r\n      <div v-show=\"showMenu && isNote\" @click=\"showChangeCatalogDialog\" class=\"text item\"><el-button :plain=\"plain\">移动到</el-button></div>\r\n      <div v-show=\"showMenu\" @click=\"showDeleteDialog\" class=\"text item\"><el-button :plain=\"plain\">删除</el-button></div>\r\n    </el-card>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nlet timeout = null\r\nfunction closeCatalogMenu () {\r\n  clearTimeout(timeout)\r\n  timeout = setTimeout(() => {\r\n    this.$store.dispatch('show', {\r\n      key: 'showCatalogMenu',\r\n      value: false\r\n    })\r\n  }, 500)\r\n}\r\nexport default {\r\n  name: 'CatalogMenu',\r\n  data () {\r\n    return {\r\n      plain: false,\r\n      visibleArrow: false\r\n    }\r\n  },\r\n  props: {\r\n    show: Boolean\r\n  },\r\n  computed: {\r\n    showMenu: function () {\r\n      const selectedNode = this.$store.getters.selectedNode\r\n      if (selectedNode.id && selectedNode.id !== this.$store.getters.catalog[0].id) {\r\n        return true\r\n      }\r\n      return false\r\n    },\r\n    isNote: function () {\r\n      const selectedNode = this.$store.getters.selectedNode\r\n      return selectedNode.isNote\r\n    }\r\n  },\r\n  methods: {\r\n    onBlur (event) {\r\n      closeCatalogMenu.call(this)\r\n    },\r\n    onFocus (event) {\r\n      clearTimeout(timeout)\r\n    },\r\n    showRenameDialog (event) {\r\n      this.$store.dispatch('show', {\r\n        key: 'showRenameDialog',\r\n        value: true\r\n      })\r\n    },\r\n    showChangeCatalogDialog (event) {\r\n      this.$store.dispatch('show', {\r\n        key: 'showChangeCatalogDialog',\r\n        value: true\r\n      })\r\n    },\r\n    showDeleteDialog (event) {\r\n      this.$store.dispatch('show', {\r\n        key: 'showDeleteDialog',\r\n        value: true\r\n      })\r\n    },\r\n    handleCommand: function (command) {\r\n      let catalog = this.$store.getters.activeCatalog\r\n      if (command === 'newNote') {\r\n        // 创建笔记\r\n        this.$store.dispatch('addNote', {\r\n          catalog: catalog\r\n        })\r\n      }\r\n      if (command === 'newCatalog') {\r\n        // 创建目录\r\n        this.$store.dispatch('addCatalog', {\r\n          catalog: catalog\r\n        })\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n #catalog-menu:focus {\r\n   outline: 0px;\r\n }\r\n .el-card__header {\r\n   padding: 10px 20px;\r\n }\r\n .el-popover {\r\n   min-width: auto;\r\n   padding: 0px;\r\n }\r\n .item {\r\n   margin: 0px -4px;\r\n }\r\n .item > button {\r\n   width: 100%;\r\n   border: 0px;\r\n }\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/CatalogMenu.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"tabindex\":\"1\"},on:{\"blur\":_vm.onBlur,\"focus\":_vm.onFocus}},[_c('el-card',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.show),expression:\"show\"}],staticClass:\"box-card\",attrs:{\"body-style\":\"padding: 0px;\"}},[_c('div',{staticClass:\"text item\"},[_c('el-popover',{attrs:{\"placement\":\"right-start\",\"trigger\":\"hover\",\"visible-arrow\":_vm.visibleArrow}},[_c('div',[_c('div',{staticClass:\"text item\"},[_c('el-button',{on:{\"click\":function($event){_vm.handleCommand('newNote')}}},[_vm._v(\"新建文件\")])],1),_vm._v(\" \"),_c('div',{staticClass:\"text item\"},[_c('el-button',{on:{\"click\":function($event){_vm.handleCommand('newCatalog')}}},[_vm._v(\"新建文件夹\")])],1)]),_vm._v(\" \"),_c('el-button',{attrs:{\"slot\":\"reference\"},slot:\"reference\"},[_c('i',{staticClass:\"el-icon-circle-plus-outline\"}),_vm._v(\" \"),_c('span',[_vm._v(\"新文档\")]),_vm._v(\" \"),_c('i',{staticClass:\"el-icon-caret-right\"})])],1)],1),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showMenu),expression:\"showMenu\"}],staticClass:\"text item\",on:{\"click\":_vm.showRenameDialog}},[_c('el-button',{attrs:{\"plain\":_vm.plain}},[_vm._v(\"重命名\")])],1),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showMenu && _vm.isNote),expression:\"showMenu && isNote\"}],staticClass:\"text item\",on:{\"click\":_vm.showChangeCatalogDialog}},[_c('el-button',{attrs:{\"plain\":_vm.plain}},[_vm._v(\"移动到\")])],1),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showMenu),expression:\"showMenu\"}],staticClass:\"text item\",on:{\"click\":_vm.showDeleteDialog}},[_c('el-button',{attrs:{\"plain\":_vm.plain}},[_vm._v(\"删除\")])],1)])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-16ac9ebc\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/CatalogMenu.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-16ac9ebc\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./CatalogMenu.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./CatalogMenu.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./CatalogMenu.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-16ac9ebc\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./CatalogMenu.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/CatalogMenu.vue\n// module id = null\n// module chunks = ","<template>\r\n  <el-dialog title=\"删除\" :visible=\"show\" @close=\"closeDeleteDialog\" width=\"30%\" center>\r\n    <span>您确定执行删除操作？</span>\r\n    <span slot=\"footer\" class=\"dialog-footer\">\r\n      <el-button @click=\"closeDeleteDialog\">取 消</el-button>\r\n      <el-button type=\"primary\" @click=\"deleteAndCloseDeleteDialog\">确 定</el-button>\r\n    </span>\r\n  </el-dialog>\r\n</template>\r\n\r\n<script>\r\nfunction closeDeleteDialog () {\r\n  this.$store.dispatch('show', {\r\n    key: 'showDeleteDialog',\r\n    value: false\r\n  })\r\n}\r\nexport default {\r\n  name: 'DeleteDialog',\r\n  data () {\r\n    return {}\r\n  },\r\n  props: {\r\n    show: Boolean\r\n  },\r\n  methods: {\r\n    closeDeleteDialog () {\r\n      closeDeleteDialog.call(this)\r\n    },\r\n    deleteAndCloseDeleteDialog () {\r\n      this.$store.dispatch('deleteNode')\r\n      closeDeleteDialog.call(this)\r\n    }\r\n  }\r\n}\r\n</script>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/DeleteDialog.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-dialog',{attrs:{\"title\":\"删除\",\"visible\":_vm.show,\"width\":\"30%\",\"center\":\"\"},on:{\"close\":_vm.closeDeleteDialog}},[_c('span',[_vm._v(\"您确定执行删除操作？\")]),_vm._v(\" \"),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":_vm.closeDeleteDialog}},[_vm._v(\"取 消\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.deleteAndCloseDeleteDialog}},[_vm._v(\"确 定\")])],1)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-6128e990\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/DeleteDialog.vue\n// module id = null\n// module chunks = ","var normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./DeleteDialog.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./DeleteDialog.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-6128e990\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./DeleteDialog.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/DeleteDialog.vue\n// module id = null\n// module chunks = ","<template>\r\n  <el-dialog title=\"重命名\" :visible=\"show\" @close=\"closeRenameDialog\" width=\"30%\" center>\r\n    <el-form>\r\n      <el-form-item label=\"重命名为\">\r\n        <el-input v-model=\"newName\" autocomplete=\"off\"></el-input>\r\n      </el-form-item>\r\n    </el-form>\r\n    <span slot=\"footer\" class=\"dialog-footer\">\r\n      <el-button @click=\"closeRenameDialog\">取 消</el-button>\r\n      <el-button type=\"primary\" @click=\"updateAndCloseRenameDialog\">确 定</el-button>\r\n    </span>\r\n  </el-dialog>\r\n</template>\r\n\r\n<script>\r\nfunction closeRenameDialog () {\r\n  this.$store.dispatch('show', {\r\n    key: 'showRenameDialog',\r\n    value: false\r\n  })\r\n}\r\n\r\nexport default {\r\n  name: 'RenameDialog',\r\n  props: {\r\n    show: Boolean\r\n  },\r\n  computed: {\r\n    newName: {\r\n      get: function () {\r\n        return this.$store.getters.selectedNode.label\r\n      },\r\n      set: function (newValue) {\r\n        let selectedNode = this.$store.getters.selectedNode\r\n        selectedNode.label = newValue\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    closeRenameDialog () {\r\n      closeRenameDialog.call(this)\r\n    },\r\n    updateAndCloseRenameDialog () {\r\n      console.log('update', this.$store.getters.selectedNode)\r\n      this.$store.dispatch('updateNode', {\r\n        node: this.$store.getters.selectedNode\r\n      })\r\n      closeRenameDialog.call(this)\r\n    }\r\n  }\r\n}\r\n</script>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/RenameDialog.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-dialog',{attrs:{\"title\":\"重命名\",\"visible\":_vm.show,\"width\":\"30%\",\"center\":\"\"},on:{\"close\":_vm.closeRenameDialog}},[_c('el-form',[_c('el-form-item',{attrs:{\"label\":\"重命名为\"}},[_c('el-input',{attrs:{\"autocomplete\":\"off\"},model:{value:(_vm.newName),callback:function ($$v) {_vm.newName=$$v},expression:\"newName\"}})],1)],1),_vm._v(\" \"),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":_vm.closeRenameDialog}},[_vm._v(\"取 消\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.updateAndCloseRenameDialog}},[_vm._v(\"确 定\")])],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-80bb7d38\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/RenameDialog.vue\n// module id = null\n// module chunks = ","var normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./RenameDialog.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./RenameDialog.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-80bb7d38\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./RenameDialog.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/RenameDialog.vue\n// module id = null\n// module chunks = ","<template>\r\n  <el-dialog title=\"移动到\" :visible=\"show\" @close=\"closeChangeCatalogDialog\" width=\"30%\" center>\r\n    <el-form>\r\n      <el-form-item label=\"\">\r\n        <el-input :disabled=\"true\" :value=\"path\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"\">\r\n        <catalog :catalog=\"catalog\" :registed-events=\"['handleNodeClick2']\"></catalog>\r\n      </el-form-item>\r\n    </el-form>\r\n    <span slot=\"footer\" class=\"dialog-footer\">\r\n      <el-button @click=\"closeChangeCatalogDialog\">取 消</el-button>\r\n      <el-button type=\"primary\" @click=\"updateAndCloseChangeCatalogDialog\" :disabled=\"path === emptyPath\">确 定</el-button>\r\n    </span>\r\n  </el-dialog>\r\n</template>\r\n\r\n<script>\r\nimport Catalog from './Catalog'\r\n\r\nfunction closeChangeCatalogDialog () {\r\n  this.$store.dispatch('show', {\r\n    key: 'showChangeCatalogDialog',\r\n    value: false\r\n  })\r\n}\r\n\r\nexport default {\r\n  name: 'ChangeCatalogDialog',\r\n  components: {\r\n    catalog: Catalog\r\n  },\r\n  data () {\r\n    return {\r\n      emptyPath: '移动到：'\r\n    }\r\n  },\r\n  props: {\r\n    show: Boolean\r\n  },\r\n  computed: {\r\n    catalog: function () {\r\n      return this.$store.getters.catalog\r\n    },\r\n    note: function () {\r\n      return this.$store.getters.activeNote\r\n    },\r\n    path: function () {\r\n      const catalog = this.$store.getters.updateCatalog\r\n      let path = this.emptyPath\r\n      if (typeof catalog !== 'undefined') {\r\n        path += this.$store.getters.catalog[0].label\r\n        if (typeof catalog.path !== 'undefined') {\r\n          path += catalog.path\r\n        }\r\n      }\r\n      return path\r\n    }\r\n  },\r\n  methods: {\r\n    closeChangeCatalogDialog () {\r\n      closeChangeCatalogDialog.call(this)\r\n    },\r\n    updateAndCloseChangeCatalogDialog () {\r\n      console.log('update', this.$store.getters.selectedNode)\r\n      let node = this.$store.getters.selectedNode\r\n      node.catalog_id = this.$store.getters.updateCatalog.id\r\n      this.$store.dispatch('updateNode', {\r\n        node: node\r\n      })\r\n      closeChangeCatalogDialog.call(this)\r\n    }\r\n  }\r\n}\r\n</script>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/ChangeCatalogDialog.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-dialog',{attrs:{\"title\":\"移动到\",\"visible\":_vm.show,\"width\":\"30%\",\"center\":\"\"},on:{\"close\":_vm.closeChangeCatalogDialog}},[_c('el-form',[_c('el-form-item',{attrs:{\"label\":\"\"}},[_c('el-input',{attrs:{\"disabled\":true,\"value\":_vm.path}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"\"}},[_c('catalog',{attrs:{\"catalog\":_vm.catalog,\"registed-events\":['handleNodeClick2']}})],1)],1),_vm._v(\" \"),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":_vm.closeChangeCatalogDialog}},[_vm._v(\"取 消\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\",\"disabled\":_vm.path === _vm.emptyPath},on:{\"click\":_vm.updateAndCloseChangeCatalogDialog}},[_vm._v(\"确 定\")])],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-6bba80bb\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/ChangeCatalogDialog.vue\n// module id = null\n// module chunks = ","<template>\r\n  <div id=\"container\" @contextmenu.prevent=\"showContextMenu\">\r\n    <el-container>\r\n      <el-aside width=\"200px\" class=\"toolbar\">\r\n        <toolbar></toolbar>\r\n      </el-aside>\r\n      <el-container>\r\n        <el-aside width=\"200px\">\r\n          <search></search>\r\n          <catalog :catalog=\"catalog\" :registed-events=\"['showCatalogMenu', 'handleNodeClick']\"></catalog>\r\n        </el-aside>\r\n        <el-main class=\"editor\">\r\n          <editor :note=\"note\"></editor>\r\n        </el-main>\r\n      </el-container>\r\n    </el-container>\r\n    <!-- 弹窗 -->\r\n    <catalog-menu id=\"catalog-menu\" class=\"diy-dialog\" :show=\"showCatalogMenu\"></catalog-menu>\r\n    <delete-dialog id=\"delete-dialog\" class=\"diy-dialog\" :show=\"showDeleteDialog\"></delete-dialog>\r\n    <rename-dialog id=\"rename-dialog\" class=\"diy-dialog\" :show=\"showRenameDialog\"></rename-dialog>\r\n    <change-catalog-dialog id=\"change-catalog-dialog\" class=\"diy-dialog\" :show=\"showChangeCatalogDialog\"></change-catalog-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Toolbar from './components/Toolbar'\r\nimport Search from './components/Search'\r\nimport Catalog from './components/Catalog'\r\nimport Editor from './components/Editor'\r\n// 弹窗\r\nimport CatalogMenu from './components/CatalogMenu'\r\nimport DeleteDialog from './components/DeleteDialog'\r\nimport RenameDialog from './components/RenameDialog'\r\nimport ChangeCatalogDialog from './components/ChangeCatalogDialog'\r\n\r\nfunction showContextMenu () {\r\n  // console.log(event)\r\n}\r\n\r\nexport default {\r\n  name: 'App',\r\n  components: {\r\n    'toolbar': Toolbar,\r\n    'search': Search,\r\n    'catalog': Catalog,\r\n    'editor': Editor,\r\n    'catalog-menu': CatalogMenu,\r\n    'delete-dialog': DeleteDialog,\r\n    'rename-dialog': RenameDialog,\r\n    'change-catalog-dialog': ChangeCatalogDialog\r\n  },\r\n  computed: {\r\n    catalog () {\r\n      // 初始化目录\r\n      return this.$store.getters.activeCatalog.children\r\n    },\r\n    note () {\r\n      // 当前笔记\r\n      return this.$store.getters.activeNote\r\n    },\r\n    showCatalogMenu () {\r\n      return this.$store.getters.showCatalogMenu\r\n    },\r\n    showDeleteDialog () {\r\n      return this.$store.getters.showDeleteDialog\r\n    },\r\n    showRenameDialog () {\r\n      return this.$store.getters.showRenameDialog\r\n    },\r\n    showChangeCatalogDialog () {\r\n      return this.$store.getters.showChangeCatalogDialog\r\n    }\r\n  },\r\n  beforeMount: function () {\r\n    this.$store.dispatch('initData')\r\n  },\r\n  methods: {\r\n    showContextMenu (event) {\r\n      showContextMenu.call(this)\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n  body {\r\n    margin: 0;\r\n    padding: 0;\r\n    height: 100%;\r\n    overflow: hidden;\r\n  }\r\n  #container {\r\n    height: 100%;\r\n    position: relative;\r\n  }\r\n  .el-container:first-child {\r\n    padding-top: 20px;\r\n    height: 100%;\r\n  }\r\n  .toolbar {\r\n    padding: 0px 20px;\r\n  }\r\n  .editor {\r\n    padding-top: 0px;\r\n  }\r\n  #catalog-menu {\r\n    position: absolute;\r\n  }\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/App.vue","var normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./ChangeCatalogDialog.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./ChangeCatalogDialog.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-6bba80bb\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./ChangeCatalogDialog.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/ChangeCatalogDialog.vue\n// module id = null\n// module chunks = ","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"container\"},on:{\"contextmenu\":function($event){$event.preventDefault();return _vm.showContextMenu($event)}}},[_c('el-container',[_c('el-aside',{staticClass:\"toolbar\",attrs:{\"width\":\"200px\"}},[_c('toolbar')],1),_vm._v(\" \"),_c('el-container',[_c('el-aside',{attrs:{\"width\":\"200px\"}},[_c('search'),_vm._v(\" \"),_c('catalog',{attrs:{\"catalog\":_vm.catalog,\"registed-events\":['showCatalogMenu', 'handleNodeClick']}})],1),_vm._v(\" \"),_c('el-main',{staticClass:\"editor\"},[_c('editor',{attrs:{\"note\":_vm.note}})],1)],1)],1),_vm._v(\" \"),_c('catalog-menu',{staticClass:\"diy-dialog\",attrs:{\"id\":\"catalog-menu\",\"show\":_vm.showCatalogMenu}}),_vm._v(\" \"),_c('delete-dialog',{staticClass:\"diy-dialog\",attrs:{\"id\":\"delete-dialog\",\"show\":_vm.showDeleteDialog}}),_vm._v(\" \"),_c('rename-dialog',{staticClass:\"diy-dialog\",attrs:{\"id\":\"rename-dialog\",\"show\":_vm.showRenameDialog}}),_vm._v(\" \"),_c('change-catalog-dialog',{staticClass:\"diy-dialog\",attrs:{\"id\":\"change-catalog-dialog\",\"show\":_vm.showChangeCatalogDialog}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-62c7fa2d\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-62c7fa2d\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar normalizeComponent = require(\"!../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\nimport __vue_script__ from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-62c7fa2d\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = null\n// module chunks = ","import Vue from 'vue'\r\nimport Router from 'vue-router'\r\nimport Catalog from '@/components/Catalog'\r\nimport Editor from '@/components/Editor'\r\n\r\nVue.use(Router)\r\n\r\nexport default new Router({\r\n  routes: [\r\n    {\r\n      path: '/:catalog',\r\n      name: 'Catalog',\r\n      component: Catalog,\r\n      children: [\r\n        {\r\n          path: ':note',\r\n          name: 'Editor',\r\n          component: Editor\r\n        }\r\n      ]\r\n    }\r\n  ]\r\n})\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/router/index.js","const state = {\r\n  // 目录结构\r\n  catalog: [],\r\n  // 目录结构的kv值\r\n  catalogKv: {},\r\n  // 当前目录\r\n  activeCatalog: {},\r\n  // 当前笔记\r\n  activeNote: {},\r\n  // 当前选中进行操作的节点\r\n  selectedNode: {},\r\n  // 显示catalog-menu\r\n  showCatalogMenu: false,\r\n  // 显示delete-dialog\r\n  showDeleteDialog: false,\r\n  // 显示rename-dialog\r\n  showRenameDialog: false,\r\n  // 显示change-catalog-dialog\r\n  showChangeCatalogDialog: false,\r\n  // 更新目录\r\n  update: {}\r\n}\r\n\r\nexport default state\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/vuex/state/index.js","import Vue from 'vue'\r\n\r\nconst mutations = {\r\n  // 重置全局目录结构\r\n  resetCatalog (state, payload) {\r\n    console.log('resetCatalog: ' + JSON.stringify(payload))\r\n    if (payload && payload.catalog) {\r\n      // 浅拷贝\r\n      state.catalog = [...payload.catalog]\r\n    }\r\n    if (payload && payload.catalogKv) {\r\n      state.catalogKv = {...payload.catalogKv}\r\n    }\r\n  },\r\n  // 新建笔记\r\n  addNote (state, payload) {\r\n    console.log('addNote: ' + JSON.stringify(payload))\r\n    if (payload && payload.newNote) {\r\n      state.activeCatalog.children.push({...payload.newNote})\r\n    }\r\n  },\r\n  // 新建目录\r\n  addCatalog (state, payload) {\r\n    console.log('addCatalog: ' + JSON.stringify(payload))\r\n    if (payload && payload.newCatalog) {\r\n      state.activeCatalog.children.push({...payload.newCatalog})\r\n    }\r\n  },\r\n  // 更新笔记\r\n  updateNote (state, payload) {\r\n    console.log('updateNote: ' + JSON.stringify(payload))\r\n    if (payload && payload.note) {\r\n      state.activeNote = {...payload.note}\r\n    }\r\n  },\r\n  // 设置当前目录\r\n  activeCatalog (state, payload) {\r\n    console.log('activeCatalog: ' + JSON.stringify(payload))\r\n    if (payload && payload.catalog) {\r\n      // 深拷贝\r\n      state.activeCatalog = JSON.parse(JSON.stringify(payload.catalog))\r\n    }\r\n  },\r\n  // 设置当前笔记\r\n  activeNote (state, payload) {\r\n    console.log('activeNote: ' + JSON.stringify(payload))\r\n    if (payload && payload.note) {\r\n      state.activeNote = {...payload.note}\r\n    }\r\n  },\r\n  // 取消设置当前笔记\r\n  deactivateNote (state) {\r\n    state.activeNote = {}\r\n  },\r\n  // 设置弹窗显示/隐藏\r\n  show (state, payload) {\r\n    if (payload && payload.key) {\r\n      state[payload.key] = payload.value\r\n      // Vue.set(state, payload.key, payload.value)\r\n      console.log('show:', payload.key, payload.value)\r\n    }\r\n  },\r\n  selectNode (state, payload) {\r\n    if (payload && payload.node) {\r\n      state.selectedNode = payload.node\r\n    }\r\n  },\r\n  deleteNode (state) {\r\n    state.selectedNode = {}\r\n  },\r\n  // 设置更新对象\r\n  update (state, payload) {\r\n    if (payload && payload.key) {\r\n      Vue.set(state.update, payload.key, payload.value)\r\n      console.log('update:', payload.key, payload.value)\r\n    }\r\n  }\r\n}\r\n\r\nexport default mutations\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/vuex/mutations/index.js","/* eslint-disable no-unused-vars */\r\n\r\nlet nextNoteId = 1\r\nlet nextCatalogId = 1\r\n\r\nlet savedNoteList = []\r\n\r\nconst devchannel = {\r\n  noteMessager: {\r\n    add: (data, callback) => {\r\n      const noteId = nextNoteId++\r\n      let newNote = JSON.parse(data)\r\n      newNote.id = noteId\r\n      newNote.is_delete = false\r\n      savedNoteList.push({...newNote})\r\n      callback(noteId)\r\n    },\r\n    update: (data, callback) => {\r\n      const note = JSON.parse(data)\r\n      savedNoteList.forEach(item => {\r\n        if (note.id === item.id) {\r\n          item.content = note.content\r\n          item.label = note.label\r\n          if (note.catalog_id) {\r\n            item.catalog_id = note.catalog_id\r\n          }\r\n        }\r\n      })\r\n      callback()\r\n    },\r\n    delete: (data, callback) => {\r\n      const note = JSON.parse(data)\r\n      savedNoteList.forEach(item => {\r\n        if (note.id === item.id) {\r\n          item.is_delete = true\r\n        }\r\n      })\r\n      callback()\r\n    },\r\n    findAllByCatalogId: (catalogId, callback) => {\r\n      console.log(savedNoteList)\r\n      let noteList = []\r\n      savedNoteList.forEach(item => {\r\n        if (item.catalog_id === catalogId && item.is_delete === false) {\r\n          noteList.push({\r\n            id: item.id,\r\n            title: item.label,\r\n            content: item.content\r\n          })\r\n        }\r\n      })\r\n      callback(JSON.stringify(noteList))\r\n    }\r\n  },\r\n  catalogMessager: {\r\n    initCatalog: (callback) => {\r\n      let data = {\r\n        catalog: [{id: -1, label: '我的文件夹', children: []}],\r\n        catalogKv: {'-1': '0'}\r\n      }\r\n      callback(JSON.stringify(data))\r\n    },\r\n    updateCatalog: (data, callback) => {\r\n      callback()\r\n    },\r\n    add: (data, callback) => {\r\n      const catalogId = nextCatalogId++\r\n      callback(catalogId)\r\n    },\r\n    update: (data, callback) => {\r\n      callback()\r\n    },\r\n    delete: (data, callback) => {\r\n      callback()\r\n    }\r\n  },\r\n  searcherMessager: {\r\n    add: (data, callback) => {},\r\n    update: (data, callback) => {},\r\n    delete: (data, callback) => {},\r\n    all: (condition, callback) => {\r\n      let data = []\r\n      savedNoteList.forEach(item => {\r\n        data.push({\r\n          id: item.id,\r\n          title: item.label,\r\n          content: item.content,\r\n          catalog_id: item.catalog_id,\r\n          isNote: true\r\n        })\r\n      })\r\n      callback(JSON.stringify(data))\r\n    }\r\n  }\r\n}\r\n\r\nconst channel = {\r\n  get: (name) => {\r\n    let attr = null\r\n    if (typeof window.channel === 'undefined') {\r\n      attr = devchannel[name]\r\n    } else {\r\n      attr = window.channel.objects[name]\r\n    }\r\n    return attr\r\n  }\r\n}\r\n\r\nexport default channel\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/vuex/actions/channel.js","import channel from './channel'\r\n\r\n// top: 顶级目录\r\n// change: {type: '', catalog: {}} 发生变更的目录\r\n// 重新生成目录结构\r\nfunction reGenerateCatalog (top, change) {\r\n  console.log('change', change)\r\n  function _updateSelf (parent) {\r\n    console.log('parent', parent)\r\n    if (parent['id'] === change.catalog.id) {\r\n      parent['label'] = change.catalog.label\r\n      return true\r\n    }\r\n    let children = parent['children']\r\n    if (children) {\r\n      for (let index in children) {\r\n        if (_updateSelf(children[index])) {\r\n          return false\r\n        }\r\n      }\r\n    }\r\n    return false\r\n  }\r\n  function _updateParent (parent) {\r\n\r\n  }\r\n  function _delete (parent) {\r\n    console.log('parent', parent)\r\n    if (parent['id'] === change.catalog.id) {\r\n      return true\r\n    }\r\n    let children = parent['children']\r\n    if (children) {\r\n      for (let index in children) {\r\n        if (_delete(children[index])) {\r\n          children.splice(index, 1)\r\n          return false\r\n        }\r\n      }\r\n    }\r\n    return false\r\n  }\r\n  switch (change.type) {\r\n    case 'updateSelf':\r\n      _updateSelf(top)\r\n      break\r\n    case 'updateParent':\r\n      _updateParent(top)\r\n      break\r\n    case 'delete':\r\n      _delete(top)\r\n      break\r\n    default:\r\n  }\r\n}\r\n// 重置全局目录结构\r\nfunction resetCatalog (store, payload) {\r\n  try {\r\n    const catalogMessager = channel.get('catalogMessager')\r\n    // 从服务端获取catalog.json, catalog.kv.json\r\n    catalogMessager.initCatalog(function (data) {\r\n      // console.log(data)\r\n      const initCatalog = JSON.parse(data)\r\n      store.commit('resetCatalog', {\r\n        catalog: initCatalog.catalog,\r\n        catalogKv: initCatalog.catalogKv\r\n      })\r\n      if (payload && payload.activeCatalog) {\r\n        // 设置当前目录\r\n        activeCatalog(store, {\r\n          catalog: initCatalog.catalog[0]\r\n        })\r\n      }\r\n    })\r\n  } catch (err) {\r\n    console.log('addCatalog error: ' + err.message)\r\n  }\r\n}\r\n// 新建笔记\r\nfunction addNote (store, payload) {\r\n  try {\r\n    let newNote = {\r\n      label: '无标题笔记',\r\n      content: '',\r\n      isNote: true\r\n    }\r\n    if (payload && payload.catalog) {\r\n      // 关联笔记到目录\r\n      newNote.catalog_id = payload.catalog.id\r\n    }\r\n    const noteMessager = channel.get('noteMessager')\r\n    // 异步操作\r\n    noteMessager.add(JSON.stringify(newNote), function (id) {\r\n      newNote.id = id\r\n      store.commit('addNote', {\r\n        newNote: newNote\r\n      })\r\n      activeNote(store, {\r\n        note: newNote\r\n      })\r\n      // 添加索引\r\n      const searcherMessager = channel.get('searcherMessager')\r\n      searcherMessager.add(JSON.stringify(newNote))\r\n    })\r\n  } catch (err) {\r\n    console.log('addNote error: ' + err.message)\r\n  }\r\n}\r\n// 新建目录\r\nfunction addCatalog (store, payload) {\r\n  try {\r\n    let newCatalog = {\r\n      label: '新建文件夹'\r\n    }\r\n    let key = '0'\r\n    let activeCatalog = store.state.catalog[0]\r\n    if (payload && payload.catalog) {\r\n      newCatalog.parent_id = payload.catalog.id\r\n      // 设置path\r\n      let path = '/'\r\n      key = store.state.catalogKv[newCatalog.parent_id]\r\n      const keyArr = key.split('-')\r\n      // 读取当前目录结构\r\n      keyArr.slice(1).forEach(index => {\r\n        activeCatalog = activeCatalog.children[index]\r\n        path += activeCatalog.label + '/'\r\n      })\r\n      newCatalog.path = path + newCatalog.label\r\n    }\r\n    const catalogMessager = channel.get('catalogMessager')\r\n    // 异步操作\r\n    catalogMessager.add(JSON.stringify(newCatalog), function (id) {\r\n      newCatalog.id = id\r\n      store.commit('addCatalog', {\r\n        newCatalog: newCatalog\r\n      })\r\n      if (activeCatalog.children == null) {\r\n        activeCatalog.children = []\r\n      }\r\n      activeCatalog.children.push(newCatalog)\r\n      let newPayload = {\r\n        catalog: store.state.catalog,\r\n        catalogKv: store.state.catalogKv\r\n      }\r\n      newPayload.catalogKv[id] = key + '-' + (activeCatalog.children.length - 1)\r\n      catalogMessager.updateCatalog(JSON.stringify(newPayload), function () {\r\n        store.commit('resetCatalog', newPayload)\r\n      })\r\n      // 添加索引\r\n      const searcherMessager = channel.get('searcherMessager')\r\n      searcherMessager.add(JSON.stringify(newCatalog))\r\n    })\r\n  } catch (err) {\r\n    console.log('addCatalog error: ' + err.message)\r\n  }\r\n}\r\n// 更新笔记\r\nfunction updateNote (store, payload) {\r\n  try {\r\n    if (payload && payload.note) {\r\n      const noteMessager = channel.get('noteMessager')\r\n      noteMessager.update(JSON.stringify(payload.note), function () {\r\n        store.commit('updateNote', payload)\r\n        activeCatalog(store, {\r\n          catalog: store.state.activeCatalog\r\n        })\r\n        // 更新索引\r\n        const searcherMessager = channel.get('searcherMessager')\r\n        searcherMessager.update(JSON.stringify(payload.note))\r\n      })\r\n    }\r\n  } catch (err) {\r\n    console.log('activeCatalog error: ' + err.message)\r\n  }\r\n}\r\n// 更新目录\r\nfunction updateCatalog (store, payload) {\r\n  try {\r\n    if (payload && payload.catalog) {\r\n      const catalogMessager = channel.get('catalogMessager')\r\n      catalogMessager.update(JSON.stringify(payload.catalog), function () {\r\n        reGenerateCatalog(store.state.catalog[0], {\r\n          type: 'updateSelf',\r\n          catalog: payload.catalog\r\n        })\r\n        let newPayload = {\r\n          catalog: store.state.catalog,\r\n          catalogKv: store.state.catalogKv\r\n        }\r\n        catalogMessager.updateCatalog(JSON.stringify(newPayload), function () {\r\n          store.commit('resetCatalog', newPayload)\r\n          activeCatalog(store, {\r\n            catalog: store.state.activeCatalog\r\n          })\r\n        })\r\n        // 更新索引\r\n        const searcherMessager = channel.get('searcherMessager')\r\n        searcherMessager.update(JSON.stringify(payload.catalog))\r\n      })\r\n    }\r\n  } catch (err) {\r\n    console.log('activeCatalog error: ' + err.message)\r\n  }\r\n}\r\n// 设置当前目录\r\nfunction activeCatalog (store, payload) {\r\n  try {\r\n    let catalog = {\r\n      id: store.state.catalog[0].id,\r\n      label: store.state.catalog[0].label,\r\n      children: []\r\n    }\r\n    if (payload && payload.catalog && payload.catalog.id) {\r\n      catalog.id = payload.catalog.id\r\n      catalog.label = payload.catalog.label\r\n      const key = store.state.catalogKv[catalog.id]\r\n      const keyArr = key.split('-')\r\n      // 记录当前目录树结构\r\n      let temp = store.state.catalog[0]\r\n      keyArr.slice(1).forEach(index => {\r\n        temp = temp.children[index]\r\n      })\r\n      if (temp.children) {\r\n        temp.children.forEach(element => {\r\n          catalog.children.push({\r\n            id: element.id,\r\n            label: element.label\r\n          })\r\n        })\r\n      }\r\n    }\r\n    const noteMessager = channel.get('noteMessager')\r\n    noteMessager.findAllByCatalogId(catalog.id, function (noteListJson) {\r\n      const noteList = JSON.parse(noteListJson)\r\n      noteList.forEach(element => {\r\n        catalog.children.push({\r\n          id: element.id,\r\n          label: element.title,\r\n          content: element.content,\r\n          isNote: true\r\n        })\r\n      })\r\n      store.commit('activeCatalog', {\r\n        catalog: catalog\r\n      })\r\n    })\r\n  } catch (err) {\r\n    console.log('activeCatalog error: ' + err.message)\r\n  }\r\n}\r\n// 设置当前笔记\r\nfunction activeNote (store, payload) {\r\n  if (payload && payload.note) {\r\n    store.commit('activeNote', payload)\r\n    // 切换笔记的时候，自动获取焦点\r\n    const textarea = document.getElementsByTagName('textarea')[0]\r\n    textarea && textarea.focus()\r\n  }\r\n}\r\n// 取消设置当前笔记\r\nfunction deactivateNote (store) {\r\n  store.commit('deactivateNote')\r\n}\r\n// 全文检索\r\nfunction search (store, payload) {\r\n  if (payload && payload.condition) {\r\n    const searcherMessager = channel.get('searcherMessager')\r\n    searcherMessager.all(payload.condition, function (data) {\r\n      let catalog = {\r\n        id: store.state.catalog[0].id,\r\n        label: store.state.catalog[0].label,\r\n        children: JSON.parse(data)\r\n      }\r\n      catalog.children.forEach(item => {\r\n        item.label = item.title\r\n        delete item.title\r\n      })\r\n      store.commit('activeCatalog', {\r\n        catalog: catalog\r\n      })\r\n      deactivateNote(store)\r\n    })\r\n  }\r\n}\r\n// 删除笔记\r\nfunction deleteNote (store, payload) {\r\n  if (payload && payload.node) {\r\n    const noteMessager = channel.get('noteMessager')\r\n    noteMessager.delete(JSON.stringify(payload.node), function () {\r\n      store.commit('deleteNode')\r\n      if (store.state.activeNote.id === payload.node.id) {\r\n        // 如果删除的为当前笔记，则取消当前笔记设置\r\n        deactivateNote(store)\r\n      }\r\n      activeCatalog(store, {\r\n        catalog: store.state.activeCatalog\r\n      })\r\n      // 删除索引\r\n      const searcherMessager = channel.get('searcherMessager')\r\n      searcherMessager.delete(JSON.stringify(payload.node))\r\n    })\r\n  }\r\n}\r\n// 删除目录\r\nfunction deleteCatalog (store, payload) {\r\n  if (payload && payload.node) {\r\n    const catalogMessager = channel.get('catalogMessager')\r\n    catalogMessager.delete(JSON.stringify(payload.node), function () {\r\n      store.commit('deleteNode')\r\n      reGenerateCatalog(store.state.catalog[0], {\r\n        type: 'delete',\r\n        catalog: payload.node\r\n      })\r\n      let newPayload = {\r\n        catalog: store.state.catalog,\r\n        catalogKv: store.state.catalogKv\r\n      }\r\n      delete newPayload.catalogKv[payload.node.id]\r\n      catalogMessager.updateCatalog(JSON.stringify(newPayload), function () {\r\n        store.commit('resetCatalog', newPayload)\r\n        activeCatalog(store, {\r\n          catalog: store.state.activeCatalog\r\n        })\r\n      })\r\n      // 删除索引\r\n      const searcherMessager = channel.get('searcherMessager')\r\n      searcherMessager.delete(JSON.stringify(payload.node))\r\n    })\r\n  }\r\n}\r\n/**\r\n * 负责api通讯\r\n */\r\nconst actions = {\r\n  // 初始化数据\r\n  initData (store) {\r\n    resetCatalog(store, {\r\n      activeCatalog: true\r\n    })\r\n  },\r\n  // 重置全局目录结构\r\n  resetCatalog (store) {\r\n    resetCatalog(store)\r\n  },\r\n  // 新建笔记\r\n  addNote (store, payload) {\r\n    addNote(store, payload)\r\n  },\r\n  // 新建目录\r\n  addCatalog (store, payload) {\r\n    addCatalog(store, payload)\r\n  },\r\n  // 更新笔记\r\n  updateNote (store, payload) {\r\n    updateNote(store, payload)\r\n  },\r\n  // 更新目录，需要更新全局目录结构\r\n  updateCatalog (store, payload) {\r\n    updateCatalog(store, payload)\r\n  },\r\n  // 设置当前目录\r\n  activeCatalog (store, payload) {\r\n    activeCatalog(store, payload)\r\n  },\r\n  // 设置当前笔记\r\n  activeNote (store, payload) {\r\n    activeNote(store, payload)\r\n  },\r\n  // 取消设置当前笔记\r\n  deactivateNote (store) {\r\n    deactivateNote(store)\r\n  },\r\n  // 全文检索\r\n  search (store, payload) {\r\n    search(store, payload)\r\n  },\r\n  // 设置弹窗显示/隐藏\r\n  show (store, payload) {\r\n    if (payload && payload.key) {\r\n      store.commit('show', payload)\r\n    }\r\n  },\r\n  // 选中节点\r\n  selectNode (store, payload) {\r\n    if (payload && payload.node) {\r\n      store.commit('selectNode', payload)\r\n    }\r\n  },\r\n  // 删除节点\r\n  deleteNode (store) {\r\n    const node = store.state.selectedNode\r\n    if (node.id != null) {\r\n      if (node.isNote) {\r\n        deleteNote(store, {node: node})\r\n      } else {\r\n        deleteCatalog(store, {node: node})\r\n      }\r\n    }\r\n  },\r\n  // 更新节点\r\n  updateNode (store, payload) {\r\n    if (payload && payload.node && payload.node.id != null) {\r\n      const node = payload.node\r\n      if (node.isNote) {\r\n        updateNote(store, {note: node})\r\n      } else {\r\n        updateCatalog(store, {catalog: node})\r\n      }\r\n    }\r\n  },\r\n  // 设置更新对象\r\n  update (store, payload) {\r\n    if (payload && payload.key) {\r\n      store.commit('update', payload)\r\n    }\r\n  }\r\n}\r\n\r\nexport default actions\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/vuex/actions/index.js","import Vue from 'vue'\r\nimport Vuex from 'vuex'\r\nimport state from './state'\r\nimport mutations from './mutations'\r\nimport actions from './actions'\r\n\r\nVue.use(Vuex)\r\n\r\nconst getters = {\r\n  catalog: state => state.catalog,\r\n  catalogKv: state => state.catalogKv,\r\n  activeCatalog: state => state.activeCatalog,\r\n  activeNote: state => state.activeNote,\r\n  selectedNode: state => state.selectedNode,\r\n  showCatalogMenu: state => state.showCatalogMenu,\r\n  showDeleteDialog: state => state.showDeleteDialog,\r\n  showRenameDialog: state => state.showRenameDialog,\r\n  showChangeCatalogDialog: state => state.showChangeCatalogDialog,\r\n  updateCatalog: state => state.update.catalog\r\n}\r\n\r\nconst store = new Vuex.Store({\r\n  state: state,\r\n  mutations: mutations,\r\n  actions: actions,\r\n  getters: getters\r\n})\r\n\r\nexport default store\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/vuex/index.js","// The Vue build version to load with the `import` command\r\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\r\nimport Vue from 'vue'\r\nimport App from './App'\r\nimport router from './router'\r\nimport store from './vuex'\r\n\r\n// element-ui\r\nimport {\r\n  Pagination,\r\n  Dialog,\r\n  Autocomplete,\r\n  Dropdown,\r\n  DropdownMenu,\r\n  DropdownItem,\r\n  Menu,\r\n  Submenu,\r\n  MenuItem,\r\n  MenuItemGroup,\r\n  Input,\r\n  InputNumber,\r\n  Radio,\r\n  RadioGroup,\r\n  RadioButton,\r\n  Checkbox,\r\n  CheckboxButton,\r\n  CheckboxGroup,\r\n  Switch,\r\n  Select,\r\n  Option,\r\n  OptionGroup,\r\n  Button,\r\n  ButtonGroup,\r\n  Table,\r\n  TableColumn,\r\n  DatePicker,\r\n  TimeSelect,\r\n  TimePicker,\r\n  Popover,\r\n  Tooltip,\r\n  Breadcrumb,\r\n  BreadcrumbItem,\r\n  Form,\r\n  FormItem,\r\n  Tabs,\r\n  TabPane,\r\n  Tag,\r\n  Tree,\r\n  Alert,\r\n  Slider,\r\n  Icon,\r\n  Row,\r\n  Col,\r\n  Upload,\r\n  Progress,\r\n  Badge,\r\n  Card,\r\n  Rate,\r\n  Steps,\r\n  Step,\r\n  Carousel,\r\n  CarouselItem,\r\n  Collapse,\r\n  CollapseItem,\r\n  Cascader,\r\n  ColorPicker,\r\n  Transfer,\r\n  Container,\r\n  Header,\r\n  Aside,\r\n  Main,\r\n  Footer,\r\n  Loading\r\n  // MessageBox,\r\n  // Message,\r\n  // Notification\r\n} from 'element-ui'\r\n\r\nVue.use(Pagination)\r\nVue.use(Dialog)\r\nVue.use(Autocomplete)\r\nVue.use(Dropdown)\r\nVue.use(DropdownMenu)\r\nVue.use(DropdownItem)\r\nVue.use(Menu)\r\nVue.use(Submenu)\r\nVue.use(MenuItem)\r\nVue.use(MenuItemGroup)\r\nVue.use(Input)\r\nVue.use(InputNumber)\r\nVue.use(Radio)\r\nVue.use(RadioGroup)\r\nVue.use(RadioButton)\r\nVue.use(Checkbox)\r\nVue.use(CheckboxButton)\r\nVue.use(CheckboxGroup)\r\nVue.use(Switch)\r\nVue.use(Select)\r\nVue.use(Option)\r\nVue.use(OptionGroup)\r\nVue.use(Button)\r\nVue.use(ButtonGroup)\r\nVue.use(Table)\r\nVue.use(TableColumn)\r\nVue.use(DatePicker)\r\nVue.use(TimeSelect)\r\nVue.use(TimePicker)\r\nVue.use(Popover)\r\nVue.use(Tooltip)\r\nVue.use(Breadcrumb)\r\nVue.use(BreadcrumbItem)\r\nVue.use(Form)\r\nVue.use(FormItem)\r\nVue.use(Tabs)\r\nVue.use(TabPane)\r\nVue.use(Tag)\r\nVue.use(Tree)\r\nVue.use(Alert)\r\nVue.use(Slider)\r\nVue.use(Icon)\r\nVue.use(Row)\r\nVue.use(Col)\r\nVue.use(Upload)\r\nVue.use(Progress)\r\nVue.use(Badge)\r\nVue.use(Card)\r\nVue.use(Rate)\r\nVue.use(Steps)\r\nVue.use(Step)\r\nVue.use(Carousel)\r\nVue.use(CarouselItem)\r\nVue.use(Collapse)\r\nVue.use(CollapseItem)\r\nVue.use(Cascader)\r\nVue.use(ColorPicker)\r\nVue.use(Transfer)\r\nVue.use(Container)\r\nVue.use(Header)\r\nVue.use(Aside)\r\nVue.use(Main)\r\nVue.use(Footer)\r\nVue.use(Loading.directive)\r\n\r\nVue.config.productionTip = false\r\n\r\n/* eslint-disable no-new */\r\nnew Vue({\r\n  el: '#app',\r\n  router: router,\r\n  store: store,\r\n  components: { App },\r\n  template: '<App/>'\r\n})\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js"],"sourceRoot":""}